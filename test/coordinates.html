<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complex Nested Grid Page</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }
        .grid-container, .component {
            display: grid;
            grid-template-columns: repeat(48, 1fr);
            grid-auto-rows: 10px;
        }
        .grid-container {
            height: 100vh;
        }
        .component {
            background-color: #f0f0f0;
            border: 1px solid #ccc;
            padding: 10px;
            position: relative;
        }
        .nested {
            background-color: #e0e0e0;
            margin: 5px;
        }
    </style>
</head>
<body>
<div class="grid-container" id="mainGrid">
    <div class="component" style="grid-column: 1 / 25; grid-row: 1 / 51;">
        Component 1
        <div class="component nested" style="grid-column: 1 / -1; grid-row: 10 / 30;">
            Nested 1.1
        </div>
        <div class="component nested" style="grid-column: 1 / -1; grid-row: 31 / -1;">
            Nested 1.2
        </div>
    </div>
    <div class="component" style="grid-column: 25 / -1; grid-row: 1 / 26;">
        Component 2
        <div class="component nested" style="grid-column: 1 / -1; grid-row: 5 / 15;">
            Nested 2.1
        </div>
    </div>
    <div class="component" style="grid-column: 25 / 37; grid-row: 26 / 51;">
        Component 3
    </div>
    <div class="component" style="grid-column: 37 / -1; grid-row: 26 / 51;">
        Component 4
        <div class="component nested" style="grid-column: 1 / -1; grid-row: 5 / 20;">
            Nested 4.1
            <div class="component nested" style="grid-column: 1 / -1; grid-row: 5 / 10;">
                Nested 4.1.1
            </div>
        </div>
    </div>
</div>

<script>
    function getGridCoordinates(element, x, y) {
        const rect = element.getBoundingClientRect();
        const columnWidth = rect.width / 48;
        const rowHeight = 10; // Fixed row height

        const column = Math.floor((x - rect.left) / columnWidth) + 1;
        const row = Math.floor((y - rect.top) / rowHeight) + 1;

        return { column, row };
    }

    document.getElementById('mainGrid').addEventListener('mousemove', (event) => {
        const mainGrid = document.getElementById('mainGrid');
        const targetElement = event.target.closest('.component') || mainGrid;

        const mainGridCoords = getGridCoordinates(mainGrid, event.clientX, event.clientY);
        const elementCoords = getGridCoordinates(targetElement, event.clientX, event.clientY);

        console.log('Main Grid Coordinates:', mainGridCoords);
        console.log('Element Coordinates:', elementCoords);
        console.log('Target Element:', targetElement.textContent.trim());
        console.log('------------------------');
    });
</script>
</body>
</html>